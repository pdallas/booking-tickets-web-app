# InfoCinemas2020_E17040_DALLAS_PANAGIOTIS_IOANNIS
Για να δημιουργήσουμε το image και τα container πρέπει να τρέξουμε την εντολή “(sudo) docker-compose up –build -d”.
Εφόσον όλα πάνε καλά και έχουμε τα container σε λειτουργία, μπορούμε να ανοίξουμε τον browser στη διεύθυνση "http://localhost:5000/login".
Κατά τη πρώτη εκκίνηση του service, γίνεται έλεγχος για το αν υπάρχουν καταχωρήσεις χρηστών στο service μας. Αν δεν υπάρχουν, δημιουργείτε αυτόματα ένας administrator με τα στοιχεία :

email : admin@admin.net

password : 1234

Έχω εστιάσει πάρα πολύ στο κομμάτι της προσβασιμότητας αξιοποιώντας τη βιβλιοθήκη session του flask. Έτσι λοιπόν όταν κάποιος χρήστης κάνει log-in, διατηρούνται κάποια στοιχεία (όπως email, name) τα οποία και χρησιμοποιούνται σε άλλα entrypoints. Για παράδειγμα, αν κάποιος δεν έχει κάνει log-in δεν έχει access στο entrypoint /manage_admins. Η και ακόμα και να έχει κάνει log-in, πρέπει να ανήκει στη κατηγορία χρήστη "admin". Με αυτή τη νοοτροπία έχω χτίσει όλα τα entrypoints.Γίνονται πάντα έλεγχοι για το αν ο χρήστης του service αφήσει κάτι ασυμπλήρωτο και εμφανίζει το αντίστοιχο μήνυμα, καθώς και για κάποια άλλα inputs όπως αριθμός εισιτηρίων. Γενικά μπορείτε να δοκιμάσετε να βρείτε bugs και μάλιστα θα το εκτιμούσα ιδιαίτερα για να προχωρήσω στις απαραίτητες τροποποιήσεις.

Μικρή περιγραφή της λειτουργικότητας:

Αρχικά μπορεί κάποιος να κάνει Log-in ή sign-up. Γίνονται πάντα έλεγχοι για το άν ο χρήστης του service αφήσει κάτι ασυμπλήρωτο και εμφανίζει το αντίστοιχο μήνυμα.
Αν ο χρήστης κάνει log-in και το mail δεν υπάρχει στη βάση, τον κάνει αυτόματα redirect στο /sign_up για να κάνει εγγραφή στο infocinemas. Αν αντίστοιχα κάνει sign-up με email το οποίο υπάρχει ήδη καταχωρημένο στη βάση μας, κάνει redirect τον χρήστη στο /login.


Ο απλός χρήστης(user) αφού συνδεθεί βρίσκεται στο user_home, όπου εμφανίζονται όλες οι προβολές που είναι διαθέσιμες αυτή τη στιγμή όπως έχουν τα πραγματικά cinema "Τι παίζεται τώρα".(Δυστυχώς ακόμα δεν υπάρχει έλεγχος σύμφωνα με την ημερομηνία, οπότε μπορεί να του δείχνει και παλιές προβολές).
 Οι επιλογές του απλού χρήστη είναι 3:
 
Movie search:

Στο οποίο ο χρήστης αναζητά προβολές για κάποια ταινία. Αν η ταινία που ψάχνει υπάρχει στη βάση, του εμφανίζονται οι πληροφορίες της ταινίας καθώς και τα διαθέσιμα εισιτήρια. Από εκεί, αφού επιλέξει τον αριθμό των εισιτηρίων αλλά και τικάρει την προβολή που τον ενδιαφέρει, μπορεί να προχωρήσει σε κράτηση. Εννοείται πως υπάρχουν οι σχετικοί έλεγχοι. Αν επιλέξει κάποια προβολή που δεν έχει διαθέσιμα εισιτήρια ή αν δηλώσει περισσότερα από τα διαθέσιμα, του εμφανίζεται το ανάλογο μήνυμα.

Booking history:

Πατώντας το booking history ο χρήστης μπορεί να δει τις προηγούμενες κρατήσεις που έχει κάνει στο παρελθόν.(Δεν έχω προσθέσει ακόμα λεπτομέρειες της κράτησης, όπως εισιτήρια ώρα κλ).

Logout: Πατώντας το logout ο χρήστης αποσυνδέεται από το σύστημα και "σπάει" όλα τα sessions που είχαν δημιουργηθεί.

Home: 

Πατώντας το home ο χρήστης επιστρέφει στην αρχική σελίδα.

Ο διαχειριστής(admin) του συστήματος και αυτός  αφού συνδεθεί βρίσκεται στο admin_home, όπου εμφανίζονται όλες οι προβολές που είναι διαθέσιμες.
Οι επιλογές του διαχειριστή είναι 6:

Add_movie:

Στο οποίο ο διαχειριστής προσθέτει μία προβολή ταινίας στη βάση, αφού συμπληρώσει όλα τα απαραίτητα πεδία.

Delete_movie: 

Πατώντας το delete movie αρχικά ο διαχειριστής μπορεί να αναζητήσει τη ταινία που ψάχνει, και αν βρεθεί αυτή να διαγραφεί. (δεν μου δούλευε καλά αυτό που ζητάτε, δηλαδή να κάνει διαγραφή το παλαιότερο, οπότε κράτησα απλή διαγραφή που παίρνει την πιο καινούρια εγγραφή της βάσης)

Update_movie: 

Πατώντας update movie, ο διαχειριστής μπορεί να κάνει αναζήτηση της ταινίας που τον ενδιαφέρει να ανανεώσει, δίνοντας τίτλο και έτος κυκλοφορίας. Αφού βρει την ταινία, του εμφανίζονται τα ίδια πεδία με αυτά που υπάρχουν στο add movie.Δίπλα ακριβώς από κάθε πεδίο υπάρχει ένα checkbox, με το οποίο ο διαχειριστής επιλέγει ποια πεδία θέλει να ανανεώσει. Όταν πατήσει το κουμπί update, ανανεώνεται η ταινία στη βάση.

Manage admins:

Επιλέγοντας το manage admins ο διαχειριστής μπορεί να συμπληρώσει μια φόρμα εγγραφής (όπως στο sign up) και το μέλος αυτό θα πάρει και αυτό τα ίδια δικαιώματα.

Logout: 

Πατώντας το logout ο διαχειριστής αποσυνδέεται από το σύστημα και "σπάει" όλα τα sessions που είχαν δημιουργηθεί.

Home: 

Πατώντας το home ο διαχειριστής επιστρέφει στην αρχική σελίδα.
